---
# tasks file for poet

  - name: yum install 
    yum: name={{ item }} state=present
    with_items:
      - gcc 
      - perl-CPAN

  - name: Cpan setup
    command: perl -MCPAN -e 'my $c = "CPAN::HandleConfig"; $c->load(doit => 1, autoconfig => 1); $c->edit(prerequisites_policy => "follow"); $c->edit(build_requires_install_policy => "yes"); $c->commit'

  - name: get cpanm
    get_url: 
      url=http://cpanmin.us
      dest=/usr/local/bin/cpanm
      mode=0755

  - name: install Poet+mason
    command: /usr/local/bin/cpanm -S --notest Poet

